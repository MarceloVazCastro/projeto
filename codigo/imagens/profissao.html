<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profissões</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/segundo.css">
    <!--
      - Filename: profissao.html
      -
      - @Author: Pedro Araújo & Renato Matos
      -
      - Function: webpage that makes the fetch and get the data from api to show in the screen
    -->
</head>

<body class="bg-secondary-subtle">
    <section class="container-fluid">
        <div class="row border border-dark border-2 " id="navbar">
          <h1 class="text-light col-md-9 mt-5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5ZM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5Z"/>
          </svg> <a href="index.html" class="text-light"> Voltar</a></h1>
          <img  src="../imagens/Captura de tela 2023-05-10 191301.png" alt="" class="col-md-3" id="logo" style="width: 200px; height: 130px;">
        </div>  
      </section>
       
      <h1 class="text-center" id="h1servico"></h1>
      <p>Confira as empresas e serviços individuais nessa categoria:</p>

      
      <div class="container-fluid"><section id="tela" class="row"></section></div>

       <!--Footer-->
<footer class="bg-light">
  <section class="p-1">
    <div class="container text text-center mt-5">
      <div class="row">
        <!--Sobre nós-->
        <div class="col-md-4 mx-auto mb-4">
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3"></i>Sobre Nós
          </h6>
          <p>ClickJobs é uma aplicação web para encontrar o seu trabalhador ideal para o serviço exigido. O trabalho foi desenvolvido através do Trabalho Interdisciplinar: Aplicações Web</p>
        </div>
       
        <!-- Redes Sociais -->
        <div class="col-md-6 mx-auto mb-6">
          <h6 class="text-uppercase fw-bold mb-4">
            Integrantes Do Grupo
          </h6>
          <p>Renato Matos - Engenharia de Software</p>
          <p>Davi Aguilar - Engenharia de Software</p>
          <p>Kauã Pataro - Engenharia de Software</p>
          <p>Marcelo Vaz - Engenharia de Software</p>
          <p>Pedro Araújo - Engenharia de Software</p>
        </div>
      </div>
    </div>
  </section>
</footer>
<!--Copyright-->
<div class="bg-light-subtle text-center">
  © 2023 Copyright ClickJobs
  
</div>
      
      <script>
         var queryString = window.location.search;

// Cria um objeto URLSearchParams para lidar com a string de consulta
var params = new URLSearchParams(queryString);
// Obtém o valor do parâmetro 'id'
var servicos = params.get('servicos');
console.log(servicos);
        let str =''
        fetch(`https://apidotiaw.daviaguilar1.repl.co/Provedores?servicos=${servicos}`)
        .then(res => res.json())
        .then(data => {
           for(let i=0; i<data.length; i++) {
             let APIresponse = data[i]
             let nome = APIresponse.nome
             let id = APIresponse.id
              console.log('nome =',nome)
              str +=`<div class="col-md-4  col-sm-12 mt-3" id="cardnovo">
                <div class="card">
                  <img class="imagem border border-dark" src="${APIresponse.imagem}" class="card-img-top" alt="...">
                  <div class="card-body">
                    <h5 class="card-title">${APIresponse.nome}</h5>
                    <p class="card-text">Email: ${APIresponse.email}<br>Telefone de contato: ${APIresponse.telefone} <br>
                      <h5>Descrição:</h5> <div id="descricaocard">${APIresponse.texto} </div> </p>
                      <a href="santacecilia.html?id=${APIresponse.id}"><br> Ver Página</a>
                  </div>
                </div>
              </div>
            </div>`
             
             document.getElementById('tela').innerHTML = str
             
           }
           
        
          })

          const h1servico = document.getElementById('h1servico')
          h1servico.innerHTML = `Serviços de ${servicos}`


        </script>

</body>
      </html>

